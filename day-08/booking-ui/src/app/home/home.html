<div id="general-container" class="flex flex-col items-center border-2 border-yellow-100 mx-96 mt-50 rounded-2xl py-20">

    <h1 class="flex text-center text-4xl p-10 mb-6 bg-blend-color-burn">Select your Date</h1>

    <p-datepicker
    [(ngModel)]="date"
    dateFormat="dd/mm/yyyy"
    [showIcon]="true"
    (ngModelChange)="ngOnInit()"
    ></p-datepicker>
    <div id="cards-container">
    @if(appointments.length==0 || appointments==null){
        <div class="bg-amber-100 p-7 my-36 rounded-2xl border-2 border-amber-400 w-80">
        <h2 class="text-yellow-500 ">No appointments on this Date! <i class="pi pi-exclamation-triangle text-yellow-500"></i></h2>
        </div>
    }@else{
    @for (appointment of appointments; track appointment.id) {
      
        <p-card >
           <h2><b>{{appointment.client}}</b></h2>
            <p><b>Time:</b>{{appointment.startHour}}</p>
        </p-card>
    }
} 
</div>
<hr class="w-full my-10 border-amber-200">

<div id="create-container" class="mt-10 p-8 border border-gray-200 rounded-2xl w-full max-w-lg shadow-lg bg-gray-100">
    <h2 class="text-2xl font-bold mb-8 text-gray-700">New Appointment</h2>
    
    <form [formGroup]="appointmentForm" (ngSubmit)="saveAppointment()" class="flex flex-col gap-6 ">
        
        <p-floatlabel>
            <input 
                pInputText 
                id="client_name" 
                formControlName="client" 
                class="w-full" />
            <label for="client_name">Client Name</label>
        </p-floatlabel>
            
        <div class="flex flex-col gap-2">
            <label class="text-sm font-semibold text-gray-500 ml-1">Start Hour</label>
            <input 
                pInputText
                type="time" 
                formControlName="startHour" 
                class="w-full">
        </div>

        <p-button 
            label="Confirm Booking" 
            icon="pi pi-check" 
            type="submit" 
            [disabled]="appointmentForm.invalid"
            styleClass="w-full p-button-warning rounded-xl">
        </p-button>

    </form>
</div>

</div>